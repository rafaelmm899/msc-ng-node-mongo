<app-messages></app-messages>
<div class="user-list-component" [@fadeIn]>
	
	<div class="page-header">
		<h1>Users</h1>
	</div>
	
	<div class="row">
		<div class="col-md-12">
			<a class="btn btn-success pull-left btn-create" [routerLink]="['/dashboard/user-create']">Create User</a>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			
			<ng-template #template>
				<div class="modal-body text-center">
					<p>You are sure you want to delete this user?</p>
					<button type="button" class="btn btn-default" (click)="confirm()" >Yes</button>
					<button type="button" class="btn btn-primary" (click)="decline()" >No</button>
				</div>
			</ng-template>
			
			<div class="row">
				<div class="col-md-12 col-12 table-wrapper">
					<table class="table">
						<thead>
							<tr>
								<th scope="col">Name</th>
								<th scope="col">lastname</th>
								<th scope="col">email</th>
								<th scope="col">role</th>
								<th scope="col" colspan="2"></th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let user of users">
								<td scope="row">{{ user.name }}</td>
								<td>{{ user.lastname }}</td>
								<td>{{ user.email }}</td>
								<td>{{ user.role }}</td>
								<td><a [routerLink]="['/dashboard/user-edit/'+user._id]" class="btn btn-warning">Edit</a></td>
								<td><a class="btn btn-danger" (click)="openModal(template, user._id)">Delete</a></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12 col-12 justify-content-center">
					<pagination [totalItems]="totalRows" [(ngModel)]="currentPage" (pageChanged)="pageChanged($event)"></pagination>
				</div>
			</div>
		</div>	
	</div>
</div>